<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–°—é—Ä–ø—Ä–∏–∑ –¥–ª—è –ê–º–∏–Ω—ã</title>
<style>
body {
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,sans-serif;
    overflow:hidden;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:linear-gradient(180deg,#fff,#ffe6f0,#ffd6e7);
    position:relative;
}

.container {
    text-align:center;
    width:90%;
    max-width:400px;
    z-index:2;
}

h1,h2,p{margin:15px 0;}
button{
    padding:12px 20px;
    border:none;
    border-radius:25px;
    background:#ff4d88;
    color:white;
    font-size:16px;
    margin:10px;
    cursor:pointer;
    font-weight:bold;
    transition:0.3s;
}
button:hover{opacity:0.85;}
input{
    padding:10px;
    border-radius:20px;
    border:1px solid #ff99bb;
    text-align:center;
    font-size:16px;
}
.card{
    background:white;
    padding:15px;
    border-radius:15px;
    margin:10px 0;
    cursor:pointer;
    transition:0.3s;
}
.card:hover{transform:scale(1.05);}

.hidden{display:none !important;}

/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
.modal{
    position:fixed;
    top:20%;
    left:50%;
    transform:translateX(-50%);
    background:white;
    color:#a1003c;
    padding:18px 25px;
    border-radius:20px;
    box-shadow:0 0 25px rgba(0,0,0,0.4);
    font-weight:bold;
    display:none;
    z-index:2000;
    max-width:300px;
    text-align:center;
    font-size:16px;
}

/* –ó–∞–≥—Ä—É–∑–∫–∞ */
#loader{
    width:90%;
    height:40px;
    background:#ffe6f0;
    border-radius:25px;
    overflow:hidden;
    margin:25px auto;
    box-shadow:0 0 10px rgba(0,0,0,0.1) inset;
    position:relative;
    font-size:16px;
    font-weight:bold;
    color:#a1003c;
}
#loaderBar{
    height:100%;
    width:0;
    background:linear-gradient(90deg,#ff4d88,#ff85b1,#ffc0da);
    border-radius:25px;
    box-shadow:0 0 8px rgba(255,77,136,0.7);
    display:flex;
    justify-content:center;
    align-items:center;
    color:white;
    font-weight:bold;
    transition: width 0.15s ease;
}

/* –ü–ª–∞–≤–∞—é—â–∏–µ —Å–∏–º–≤–æ–ª—ã —Ñ–æ–Ω–∞ */
.floating-symbol{
    position:absolute;
    pointer-events:none;
    user-select:none;
    animation-name:floatSymbol;
    animation-timing-function: linear;
    z-index:0;
}
@keyframes floatSymbol{
    0%{transform:translateY(100vh);}
    100%{transform:translateY(-50px);}
}

/* –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ */
#final{
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    color:#a1003c;
    background:linear-gradient(180deg,#fff,#ffe6f0,#ffd6e7);
    width:100%;
    height:100%;
    padding:20px;
    font-weight:bold;
    z-index:2;
}

#final h2{font-size:32px; margin-bottom:15px; color:#ff4d88;}

#sendNote{
    font-size:22px;
    margin-bottom:15px;
    color:#ff1a70;
    text-shadow: 0 0 5px #ffc0da;
}

#stats{
    background:rgba(255,77,136,0.1);
    padding:20px;
    border-radius:25px;
    text-align:left;
    width:90%;
    max-width:400px;
    margin-top:10px;
    box-shadow:0 4px 15px rgba(255,77,136,0.3);
}
#stats p{
    margin:8px 0;
    font-size:18px;
}

/* –¢–∞–π–º–µ—Ä –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–ª–æ–∫ */
#countdown{
    margin-top:20px;
    font-size:20px;
    font-weight:bold;
    color:#ff1a70;
    background:white;
    padding:15px 25px;
    border-radius:20px;
    box-shadow:0 0 15px rgba(255,77,136,0.4);
    text-align:center;
    width:90%;
    max-width:300px;
}
</style>
</head>
<body>

<!-- –ü–ª–∞–≤–∞—é—â–∏–µ —Å–∏–º–≤–æ–ª—ã -->
<script>
const symbols=["‚ù§Ô∏è","ü§ç","üå∏","üéà","üåπ"];
for(let i=0;i<20;i++){
    const span=document.createElement("span");
    span.className="floating-symbol";
    span.innerText=symbols[Math.floor(Math.random()*symbols.length)];
    let size=10+Math.random()*30;
    span.style.fontSize=size+"px";
    span.style.left=Math.random()*100+"%";
    span.style.animationDuration=(10+Math.random()*20)+"s";
    span.style.opacity=Math.random()*0.8+0.2;
    document.body.appendChild(span);
}
</script>

<!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 -->
<div class="container" id="page1">
<h1>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ üíå</h1>
<p>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å:</p>
<input type="text" id="nameInput" placeholder="–í–∞—à–µ –∏–º—è"><br>
<button onclick="startLoading()">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
<div id="loader" class="hidden"><div id="loaderBar">–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è‚Ä¶</div></div>
</div>

<!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 2 -->
<div class="container hidden" id="page2">
<h2>–ê–º–∏–Ω–∞, —Ç—ã –≥–æ—Ç–æ–≤–∞ –ø—Ä–∏–Ω—è—Ç—å –µ–≥–æ?</h2>
<button onclick="nextPage()">–î–ê üíå</button>
<button id="noBtn" onclick="moveNo()">–ù–ï–¢ üôÉ</button>
</div>

<!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 3 -->
<div class="container hidden" id="page3">
<h2>–í –∫–∞–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ —Å–µ–≥–æ–¥–Ω—è –ø—Ä–æ—è–≤–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –∫ —Ç–µ–±–µ?</h2>
<div class="card" onclick="selectGift('üåπ –¶–≤–µ—Ç—ã')">üåπ –¶–≤–µ—Ç—ã</div>
<div class="card" onclick="selectGift('üç≠ –°–ª–∞–¥–∫–∏–π –±—É–∫–µ—Ç')">üç≠ –°–ª–∞–¥–∫–∏–π –±—É–∫–µ—Ç</div>
<div class="card" onclick="selectGift('üçì –°–ª–∞–¥–∫–∞—è –∫–æ—Ä–∑–∏–Ω–∞')">üçì –°–ª–∞–¥–∫–∞—è –∫–æ—Ä–∑–∏–Ω–∞</div>
<div class="card" onclick="selectGift('‚ú® –°–µ–∫—Ä–µ—Ç–Ω—ã–π')">‚ú® –°–µ–∫—Ä–µ—Ç–Ω—ã–π</div>
</div>

<!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 4 -->
<div class="container hidden" id="page4">
<h2>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è</h2>
<div class="card" onclick="nextTime()">–õ–∏—á–Ω–æ</div>
</div>

<!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 5 -->
<div class="container hidden" id="page5">
<h2>–í–æ —Å–∫–æ–ª—å–∫–æ –±—É–¥–µ—à—å –≥–æ—Ç–æ–≤–∞ –ø—Ä–∏–Ω—è—Ç—å —Å—é—Ä–ø—Ä–∏–∑?</h2>
<button onclick="confirmTime('17:00')">17:00</button>
<button onclick="confirmTime('18:00')">18:00</button>
<button onclick="confirmTime('19:00')">19:00</button>
</div>

<!-- –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
<div id="final" class="fade hidden">
<h2>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ ‚úÖ</h2>
<div id="sendNote">–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—é üì∏</div>
<div id="stats"></div>
<div id="countdown"></div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
<div class="modal" id="modal"></div>

<script>
let stats = {nameTries:0,giftChoice:"",delivery:"",timeChoice:"",noClicks:0};
let noCount=0;

// –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
function showModal(text){
    const modal=document.getElementById("modal");
    modal.innerHTML=text;
    modal.style.display='block';
    setTimeout(()=>{modal.style.display='none';},1800);
}

// –ó–∞–≥—Ä—É–∑–∫–∞ 0-100
function startLoading(){
    stats.nameTries++;
    const loader=document.getElementById("loader");
    const bar=document.getElementById("loaderBar");
    loader.classList.remove("hidden");
    let width=0;
    bar.innerText="–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è‚Ä¶";
    let interval=setInterval(()=>{
        width += Math.random()*6 + 2;
        if(width>=100){
            width=100;
            clearInterval(interval);
            setTimeout(()=>{
                loader.classList.add("hidden");
                checkName();
            },300);
        }
        bar.style.width = width+"%";
        bar.innerText = `–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è‚Ä¶ ${Math.floor(width)}%`;
    },50);
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–∏
function checkName(){
    let name=document.getElementById("nameInput").value.trim().toLowerCase();
    if(name==="–∞–º–∏–Ω–∞"){
        showModal("–î–æ—Å—Ç—É–ø –æ—Ç–∫—Ä—ã—Ç üéâ");
        setTimeout(()=>{
            document.getElementById("page1").classList.add("hidden");
            document.getElementById("page2").classList.remove("hidden");
        },1000);
    } else{
        showModal("–î–æ—Å—Ç—É–ø –∑–∞–∫—Ä—ã—Ç ‚ùå –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞");
    }
}

// –°—Ç—Ä–∞–Ω–∏—Ü–∞ 2
function nextPage(){
    document.getElementById("page2").classList.add("hidden");
    document.getElementById("page3").classList.remove("hidden");
}
function moveNo(){
    stats.noClicks++;
    noCount++;
    let texts=["–•–º‚Ä¶ –ø–æ–ø—ã—Ç–∫–∞ –æ—Ç–º–µ–Ω–∏—Ç—å —Ä–æ–º–∞–Ω—Ç–∏–∫—É –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ üòå","–ö–∞–∂–µ—Ç—Å—è, –∫—Ç–æ-—Ç–æ –ø—Ä–∏—Ç–≤–æ—Ä—è–µ—Ç—Å—è —Å–∫—Ä–æ–º–Ω–æ–π üòè","–í—Å—ë —Ä–∞–≤–Ω–æ –Ω–∞–∂–º—ë—à—å ¬´–î–∞¬ª üòâ"];
    showModal(texts[Math.min(noCount-1,2)]);
    let btn=document.getElementById("noBtn");
    btn.style.transform="translate("+((Math.random()*300)-150)+"px,"+((Math.random()*100)-50)+"px)";
}

// –°—Ç—Ä–∞–Ω–∏—Ü–∞ 3
function selectGift(gift){
    stats.giftChoice=gift;
    let modalText="";
    switch(gift){
        case "üåπ –¶–≤–µ—Ç—ã": modalText="–ö–ª–∞—Å—Å–∏–∫–∞‚Ä¶ –Ω–æ –æ–Ω–∞ –≤—Å–µ–≥–¥–∞ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Å–µ—Ä–¥—Ü–µ üíò"; break;
        case "üç≠ –°–ª–∞–¥–∫–∏–π –±—É–∫–µ—Ç": modalText="–ú–º–º‚Ä¶ –¥–≤–∞ –≤ –æ–¥–Ω–æ–º. –ö—Ä–∞—Å–∏–≤–æ –∏ –≤–∫—É—Å–Ω–æ üòã"; break;
        case "üçì –°–ª–∞–¥–∫–∞—è –∫–æ—Ä–∑–∏–Ω–∞": modalText="–û–æ–æ, —Ç—ã —É –Ω–∞—Å —Å–ª–∞–¥–∫–æ–µ–∂–∫–∞‚Ä¶ –ø—Ä–∏–Ω—è—Ç–æ üçì‚ú®"; break;
        case "‚ú® –°–µ–∫—Ä–µ—Ç–Ω—ã–π": modalText="–ù–µ–º–Ω–æ–≥–æ –∏–Ω—Ç—Ä–∏–≥–∏? –ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è —Ç–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π üòè"; break;
    }
    showModal(modalText);
    setTimeout(()=>{
        document.getElementById("page3").classList.add("hidden");
        document.getElementById("page4").classList.remove("hidden");
    },1800);
}

// –°—Ç—Ä–∞–Ω–∏—Ü–∞ 4
function nextTime(){
    stats.delivery="–õ–∏—á–Ω–æ";
    document.getElementById("page4").classList.add("hidden");
    document.getElementById("page5").classList.remove("hidden");
}

// –°—Ç—Ä–∞–Ω–∏—Ü–∞ 5 -> —Ñ–∏–Ω–∞–ª
function confirmTime(time){
    stats.timeChoice=time;
    document.getElementById("page5").classList.add("hidden");
    document.getElementById("final").classList.remove("hidden");

    document.getElementById("stats").innerHTML=`
<p>üíå –ü–æ–ø—ã—Ç–æ–∫ –≤–≤–æ–¥–∞ –∏–º–µ–Ω–∏: <b>${stats.nameTries}</b></p>
<p>üéÅ –ü–æ–¥–∞—Ä–æ–∫: <b>${stats.giftChoice}</b></p>
<p>üöö –°–ø–æ—Å–æ–±: <b>${stats.delivery}</b></p>
<p>‚è∞ –í—Ä–µ–º—è: <b>${stats.timeChoice}</b></p>
<p>üôÉ –ù–∞–∂–∞—Ç–∏–π ¬´–ù–ï–¢¬ª: <b>${stats.noClicks}</b></p>
`;

    startTimer(stats.timeChoice);
}

// –¢–∞–π–º–µ—Ä –¥–æ —Å—é—Ä–ø—Ä–∏–∑–∞
function startTimer(timeStr){
    let now = new Date();
    let year = now.getFullYear();
    let target = new Date(`${year}-02-14T${timeStr}:00+03:00`);
    if(now>target) target.setFullYear(year+1);

    setInterval(()=>{
        let diff = target - new Date();
        if(diff<0) diff=0;
        let d=Math.floor(diff/1000/60/60/24);
        let h=Math.floor(diff/1000/60/60)%24;
        let m=Math.floor(diff/1000/60)%60;
        let s=Math.floor(diff/1000)%60;
        h=h<10?"0"+h:h; m=m<10?"0"+m:m; s=s<10?"0"+s:s;
        document.getElementById("countdown").innerHTML=
        `–î–æ —Å—é—Ä–ø—Ä–∏–∑–∞ –æ—Å—Ç–∞–ª–æ—Å—å:<br>${d}–¥ ${h}—á ${m}–º ${s}—Å`;
    },1000);
}
</script>
</body>
</html>
